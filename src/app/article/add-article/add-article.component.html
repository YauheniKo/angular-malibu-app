<div>
  <div class="submit-form">
    <div *ngIf="!submitted">
      <div class="form-group">
        <label for="title">Title</label>
        <input
          class="form-control"
          type="text"
          id="title"
          required
          [(ngModel)]="articleRequest.title"
          name="title"
        />
      </div>

      <div class="form-group">
        <label for="description">Description</label>
        <input
          class="form-control"
          id="description"
          required
          [(ngModel)]="articleRequest.description"
          name="description"
        />
      </div>

      <mat-form-field class="example-chip-list" appearance="fill">
        <mat-label>Tags</mat-label>
        <mat-chip-list #chipList aria-label="Fruit selection">
          <mat-chip *ngFor="let tag of articleRequest.tags" (removed)="remove(tag)">
            {{tag.name}}
            <button matChipRemove>
              <mat-icon>cancel</mat-icon>
            </button>
          </mat-chip>
          <input placeholder="New fruit..."
                 [matChipInputFor]="chipList"
                 [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                 [matChipInputAddOnBlur]="addOnBlur"
                 (matChipInputTokenEnd)="add($event)">
        </mat-chip-list>
      </mat-form-field>
      <div class="form-group">
        <label for="text">Text</label>
        <input
          class="form-control"
          type="text"
          id="text"
          required
          [(ngModel)]="articleRequest.text"
          name="text"
        />
      </div>
      <mat-form-field>
        <div>
          <mat-toolbar>
            <input matInput [value]="selectedFileNames.length ? selectedFileNames : 'Select Images'"/>
          </mat-toolbar>
          <input
            type="file"
            id="fileInput"
            name="fileInput"
            accept="image/*" multiple
            (change)="selectFiles($event)"
          />
        </div>
      </mat-form-field>
      <div>
        <img *ngFor='let preview of previews' [src]="preview" class="preview">
      </div>
      <div *ngIf="message.length" class="message">
        <ul *ngFor="let msg of message; let i = index">
          <li>{{ msg }}</li>
        </ul>
      </div>

      <button (click)="saveArticle()" class="btn btn-success">Submit</button>
    </div>

    <div *ngIf="submitted">
      <h4>Article was submitted successfully!</h4>
      <button class="btn btn-success" (click)="newArticle()">Add</button>
    </div>
  </div>
</div>
